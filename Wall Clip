-- LocalScript (StarterPlayerScripts)

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

-- GUI setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "WallClipGui"
screenGui.Parent = player:WaitForChild("PlayerGui")

local clipButton = Instance.new("TextButton")
clipButton.Size = UDim2.new(0, 150, 0, 50)
clipButton.Position = UDim2.new(0.5, -75, 0.8, 0)
clipButton.Text = "Wall Clip"
clipButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- red button
clipButton.TextColor3 = Color3.fromRGB(255, 255, 255)
clipButton.Parent = screenGui

-- Function to clip through wall (wall thickness + 1 stud)
local function wallClip()
    local rayOrigin = hrp.Position
    local rayDirection = hrp.CFrame.LookVector * 20 -- max distance to check for wall

    local raycastParams = RaycastParams.new()
    raycastParams.FilterDescendantsInstances = {character}
    raycastParams.FilterType = Enum.RaycastFilterType.Blacklist

    local result = workspace:Raycast(rayOrigin, rayDirection, raycastParams)
    if result then
        local wallThickness = (result.Position - rayOrigin).Magnitude
        hrp.CFrame = hrp.CFrame + hrp.CFrame.LookVector * (wallThickness + 1)
    end
end

-- Button click
clipButton.MouseButton1Click:Connect(wallClip)
